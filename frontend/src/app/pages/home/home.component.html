<div class="feed-container">
  <nz-card class="create-post-card">
    <textarea
      nz-input
      [(ngModel)]="newPostContent"
      placeholder="What's on your mind?"
      [nzAutosize]="{ minRows: 2, maxRows: 6 }">
    </textarea>
    <div class="post-actions">
      <button nz-button nzType="primary" (click)="submitPost()" [disabled]="!newPostContent.trim()">
        Post
      </button>
    </div>
  </nz-card>

  <div class="posts-list">
    @for (post of posts(); track post) {
      <nz-card class="post-card">
        <nz-card-meta
          [nzAvatar]="avatarTemplate"
          [nzTitle]="post.authorName"
          [nzDescription]="post.createdAt | date:'medium'">
        </nz-card-meta>
        <ng-template #avatarTemplate>
          <nz-avatar [nzSrc]="post.profilePictureUrl || 'default_profile_picture.png' "></nz-avatar>
        </ng-template>
        <div class="post-content">
          <p>{{ post.content }}</p>
        </div>
      </nz-card>
    }

    @if (posts().length === 0) {
      <div class="empty-feed">
        <p>No posts to show. Add some friends to see their updates!</p>
      </div>
    }
  </div>
</div>
